{% extends "runner/layout.html" %}

{% block title %}{{ profile.username }}{% endblock %}

{% block body %}

    <div id="top-container">
        <div id="profile">
            <div>
                <h3 id="username">{{ profile.username }}</h3>
            </div>
            {% if user.is_authenticated and user != profile %}
                <div id="follow-div">
                    <button id="follow">{% if is_following %}Unfollow{% else %}Follow{% endif %}</button>
                </div>
            {% endif %}
            <div id="profile-info">
                <div id="profile-pic-container">
                    {% if profile.profile_picture %}
                        <img id="profile-pic" src="{{ MEDIA_URL }}{{ profile.profile_picture }}" alt="Profile Picture">
                    {% else %}
                        <img id="avatar" src="{{ MEDIA_URL }}/avatars/derp.png" alt="avatar">
                    {% endif %}
                </div>
                <div id="info">
                    {% if profile.bio %}
                        <div id="bio">
                            <h6>{{ profile.bio }}</h6>
                        </div>
                    {% endif %}
                    <div>
                        {% if profile.phone_number %}
                            <h6>Phone: {{ profile.phone_number }}</h6>
                        {% endif %}
                        <p>User since: {{ profile.date_joined.date }}</p>
                    </div>
                </div>
                <div id="follow-counts">
                    <h3>Followers: <span id="followers">{{ follower_count }}</span></h3>
                    <h3>Following: <span id="following">{{ following_count }}</span></h3>
                </div>
            </div>
            <div id="edit-profile">
                {% if user == profile %}
                    <a href="{% url 'edit_profile' %}">Edit profile</a>
                {% endif %}
            </div>
        </div>
    </div>

    {% load static %}
    <script src={% static 'profile.js' %}></script>
    
    
{% endblock %}