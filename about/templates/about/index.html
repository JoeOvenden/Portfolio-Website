{% extends "about/layout.html" %}

{% block title %}Joe's Portfolio{% endblock %}

{% block body %}

    <div id="top-container">
        <div id="title">
            <h3>Joe Ovenden - Portfolio</h3>
        </div>

        {% include 'about/project-cards.html' with project_cards=project_cards %}

    </div>

    <button id="nextButton">
        Next
    </button>

    <script>

        function moveElement(e, percentageChange) {
            let currentRight = parseInt(e.style.right) || 0;
            e.style.right = (currentRight + percentageChange) + '%';
            console.log(e.style.right);
        }

        function getNextCard(currentId) {
            let nextCard = document.getElementById(currentId + 1);
            if (!nextCard) {       // If there is no project card with id, currentId + 1
                nextCard = document.getElementById(0);
            }
            return nextCard;
        }

        document.addEventListener("DOMContentLoaded", () => {
            let currentId = 0;
            let currentCard = document.getElementById(`${currentId}`);
            currentCard.style.display = "block";

            let nextCard = getNextCard(currentId);
            let nextButton = document.getElementById("nextButton");
            nextCard.style.display = "block";

            nextButton.addEventListener('click', () => {
                let remainingPercent = 100;
                for (let i = 0; i < 100; i++) {
                    moveElement(currentCard, 1);
                    moveElement(nextCard, 1);
                    
                }
            });
        });
    
    </script>
    
{% endblock %}